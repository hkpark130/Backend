spring:
  application:
    name: backoffice-api
  profiles:
    default: local
  ldap:
    urls: "ldap://192.168.2.59:389"
    base: "dc=direa,dc=co,dc=kr"
    username: "cn=admin,dc=direa,dc=co,dc=kr"

---
jasypt:
  encryptor:
    password: mySecretKey

constants:
  keycloak-url: ENC(6UeJ0QC/B9zHz+T/wXKKWgXJ5/FYBK7xF/dWVCpNweN14MZNdJ9fXbDYax1nBwyWg8X1huwRtyE5IhPrn9V7SQ==)
  client-secret: ENC(qSvRXUFAk4C9Xtt/B1jEA0G7+0hvvhg1mdmeTAKTrAAOMrv1kGy3XGTuASCtksADAtj9/EUh3Lo9fEIKZV+hOuZEYOLKTKWYWVXTynEStSg=)
  admin: admin
  admin-id: admin
  admin-pw: keycloak
  realm: ENC(kbWdaszp7HSheIPFaLRmc0NBJLbEmCrnVWVQmNM7QcX057IeT3I3wDU7ufjNWnCX)
  admin-group-id: ENC(j264nBfm3L46eTho2ivWb6pLBRQ8zUAhru38+ld2p8YxB3aZTJzOWcqbre8NL8ZZvhWlBfNAZ6tt2fLa0YR63YZJU9M7QEsiEMfr6zuCXM8=)

# Local profile: in-memory H2 DB, H2 console enabled, verbose SQL
spring:
  config:
    activate:
      on-profile: local
  datasource:
    url: jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    driver-class-name: org.h2.Driver
    username: sa
    password: ""
  ldap:
    password: admin
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        format_sql: true
    show-sql: true
    defer-datasource-initialization: true
  h2:
    console:
      enabled: true
      path: /h2-console
  # mail:
  #   host: smtp.gmail.com
  #   port: 587
  #   username: test-account@gmail.com
  #   password: app-password-placeholder
  #   properties:
  #     mail:
  #       smtp:
  #         auth: true
  #         starttls:
  #           enable: true
  #           required: true
  #   default-encoding: UTF-8

app:
  cors:
    allowed-origins:
      - http://localhost:5173
  upload:
    dir: uploads
  keycloak:
    url: https://keycloak.direa.synology.me/auth
    realm: sso
    admin-client-id: admin-cli
  ldap:
    user-base: ${APP_LDAP_USER_BASE:cn=Users}
    login-shell: ${APP_LDAP_LOGIN_SHELL:/bin/bash}
    password-length: ${APP_LDAP_PASSWORD_LENGTH:12}
  approval:
    default-approvers:
      - stage: 1
        label: "1차 승인자"
        username: "admin"
        keycloak-id: 6e88f418-7d88-407d-9961-7fcd47c8caa1
        display-name: "admin"
        locked: true
      - stage: 2
        label: "2차 승인자"
        username: "디리아"
        keycloak-id: 83ae25ff-6f4a-4bce-82d9-4a7d4e4143f6
        display-name: "디리아"
        locked: true

---
jasypt:
  encryptor:
    password: ${JASYPT_KEY}

constants:
  keycloak-url: "https://keycloak.direa.synology.me"
  client-secret: ENC(mwGuQuXgOPVZ+upjEIGrt9fJMwuc7omECSvUOtaZr1ylbEqN/x+Jp5eh4tx9qQb9YEhQiOz464nJVmh2jJAvkaLdMnq6uwwmX8NfN+IVAxI=)
  admin: ENC(I1Fa58eRTCXabl7jgq6uT28LsTtmttVPhPBj/XkJnsI0Zzi0WRxf1EJuGTA56qFQ)
  admin-id: ENC(RNu0pvdPsdYlgv4rJqH5rvYY55pIddi3gCSyTzutMRqo1DeqeNN+ukCsRIqPYoGd9EXaSxr20rYjHpm+hc+CvfpJ//0TgFjnoe5+JxtqcGY=)
  admin-pw: ENC(9wsj63HOG5z6ursBEi7VzmwGMd/8jH/TyD1IRngtWqDvUvL04TtKPEFQxyIAY0OA)
  realm: ENC(rW4Ij4d66yAHbzdxzQnWAcPib/iNmYJloRByJHiG0Qqm0bNDbjNzp5LrSdzvL7QG)
  admin-group-id: ENC(WmXJE0dvsIouiJP9uimG+4VciSGhTPusYQ/PCYBMItQwTtK0q5CNYrmdLCkuf5VNk/fTZC4E3TaWGcoAZMtKIVD30J15WSM+83YPygVJv8s=)

# Prod profile: external DB, stricter JPA, no H2 console, minimal logs
spring:
  config:
    activate:
      on-profile: prod
  datasource:
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: ${DB_DRIVER:}
  ldap:
    password: ENC(1jwk9pXRQGcdTUnm/HMfinGjMUJEfSrmKDvLEVvPOBY9pqQSD9ebmLp+vmKTYR5I)
  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        format_sql: false
    show-sql: false
    defer-datasource-initialization: false

app:
  cors:
    allowed-origins:
      - ${CORS_ALLOWED_ORIGINS:https://your-frontend.example.com}
  keycloak:
    url: ${APP_KEYCLOAK_URL}
    realm: ${APP_KEYCLOAK_REALM}
    admin-client-id: ${APP_KEYCLOAK_ADMIN_CLIENT_ID}
    admin-client-secret: ${APP_KEYCLOAK_ADMIN_CLIENT_SECRET}
  ldap:
    user-base: ${APP_LDAP_USER_BASE}
    login-shell: ${APP_LDAP_LOGIN_SHELL:/bin/bash}
    password-length: ${APP_LDAP_PASSWORD_LENGTH:12}
  approval:
    default-approvers:
      - stage: 1
        label: "1차 승인자"
        username: "신수인"
        keycloak-id: 4aafc61c-b29e-4981-97ff-f038981ce376
        display-name: "신수인"
        locked: true
      - stage: 2
        label: "2차 승인자"
        username: "조고은"
        keycloak-id: 0550d03d-27ce-43dd-afab-1849650b203c
        display-name: "조고은"
        locked: true
